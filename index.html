<!DOCTYPE html>
<html>

<head>
  <title>Jone | a Jesse Pinho short film</title>

  <meta name="description"
    content="A lonely androids tries to connect with her human colleagues by imitating them, with tragically comedic consequences." />

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <link rel="stylesheet" href="./reset.css" />
  <link rel="stylesheet" href="./styles.css" />

  <link rel="shortcut icon" href="./favicon/favicon.ico" />

  <link rel="icon" sizes="16x16 32x32 64x64" href="./favicon/favicon.ico" />
  <link rel="icon" type="image/png" sizes="196x196" href="./favicon/favicon-192.png" />
  <link rel="icon" type="image/png" sizes="160x160" href="./favicon/favicon-160.png" />
  <link rel="icon" type="image/png" sizes="96x96" href="./favicon/favicon-96.png" />
  <link rel="icon" type="image/png" sizes="64x64" href="./favicon/favicon-64.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16.png" />
  <link rel="apple-touch-icon" href="./favicon/apple-touch-icon-57.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="./favicon/apple-touch-icon-114.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="./favicon/apple-touch-icon-72.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="./favicon/apple-touch-icon-144.png" />
  <link rel="apple-touch-icon" sizes="60x60" href="./favicon/apple-touch-icon-60.png" />
  <link rel="apple-touch-icon" sizes="120x120" href="./favicon/apple-touch-icon-120.png" />
  <link rel="apple-touch-icon" sizes="76x76" href="./favicon/apple-touch-icon-76.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="./favicon/apple-touch-icon-152.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon-180.png" />

  <meta property="og:image" content="./social-media.58291eecc2131afe38604bac7a3f5984.jpg" />
  <meta property="og:image:alt" content="A photo of Jone sitting at her desk" />
  <meta property="og:image:width" content="1920" />
  <meta property="og:image:height" content="1080" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@jessepinho" />
  <meta name="twitter:creator" content="@jessepinho" />
</head>

<body>
  <main class="main">
    <figure class="logo">
      <img src="./logo.svg" alt="The Jone logo" class="logoImage" />
    </figure>

    <div id="scrollContainer" class="scrollContainer">
      <section id="scrollContent" class="credits">
        <div class="creditItem">
          <div class="credit">written &amp; directed by</div>
          <div class="creditName">Jesse Pinho</div>
        </div>

        <div class="creditItem">
          <div class="credit">produced &amp; edited by</div>
          <div class="creditName">George Rodriguez</div>
        </div>

        <div class="creditItem">
          <div class="credit">
            cinematography &amp; production design by
          </div>
          <div class="creditName">Joyzel</div>
        </div>

        <div class="creditItem">
          <div class="creditNames">
            Katy Corbus &bull; Henry Hetz &bull; Sarah Keene
          </div>
        </div>

        <div class="creditItem">
          <div class="creditName">COMING MAY 2022</div>
        </div>

        <div class="creditItem creditsSmall">
          <div>
            original music by
            <span class="creditNames">Monika Mia</span>
          </div>

          <div>
            hair &amp; makeup by
            <span class="creditNames">Talia Ranier</span>
          </div>
        </div>
      </section>
    </div>

    <div class="scrollOverlay" id="scrollOverlay"></div>
  </main>

  <script>
    (function () {
      // Settings
      var MAX_OPACITY = .6
      var RATIO_FOR_MAX_OPACITY = .75
      var MIN_WIDTH_TO_DISABLE_SCROLL_OVERLAY = 600

      var scrollContainer = document.getElementById('scrollContainer')
      var scrollContent = document.getElementById('scrollContent')
      var scrollOverlay = document.getElementById('scrollOverlay')
      scrollOverlay.style.display = 'block'
      scrollOverlay.style.opacity = 0

      var currentTopForMaxOpacity, difference, enable

      function adjustToViewportSize() {
        // This is triggered by when the bottom bar on iOS Safari disappears on
        // scroll, which breaks scrolling. Fix if possible. (While this is
        // commented out, a user who resizes a window vertically will have
        // issues with the fading.)
        // scrollContainer.scrollTop = 0

        var startTop = scrollContent.getBoundingClientRect().top
        currentTopForMaxOpacity = startTop * RATIO_FOR_MAX_OPACITY
        difference = startTop - currentTopForMaxOpacity
        if (window.innerWidth >= MIN_WIDTH_TO_DISABLE_SCROLL_OVERLAY) {
          enable = false
        } else {
          enable = true
        }
        setOpacity()
      }

      function setOpacity() {
        if (!enable && scrollOverlay.style.opacity) {
          scrollOverlay.style.opacity = 0
          return
        }
        var currentTop = scrollContent.getBoundingClientRect().top
        var ratio = (currentTop - currentTopForMaxOpacity) / difference
        var newOpacity

        if (ratio >= 1) {
          newOpacity = 0
        } else if (ratio <= 0) {
          newOpacity = MAX_OPACITY
        } else {
          newOpacity = MAX_OPACITY - (MAX_OPACITY * ratio)
        }

        scrollOverlay.style.opacity = newOpacity
      }

      scrollContainer.addEventListener('scroll', setOpacity)
      window.addEventListener('resize', adjustToViewportSize)

      setOpacity()
      adjustToViewportSize()
    })()
  </script>
</body>

</html>
